define("view/subhead",["backbone"],function(){return Backbone.View.extend({template:_.template($("#t-subhead-view").html()),initialize:function(){this.render()},render:function(){return this.$el.html(this.template()),this}})}),define("view/footer",["backbone"],function(){return Backbone.View.extend({tagName:"footer",initialize:function(){this.render()},render:function(){return this.$el.html("<p>Developed by ZhangWei, 2013</p>"),this}})}),define("view/system",["backbone"],function(){return Backbone.View.extend({cache:{},tagName:"div",attributes:{"class":"row-fluid"},template:_.template($("#t-system-view").html()),initialize:function(){this.render()},render:function(){var e=this;return e.data("sys",function(t){e.sys(t)}),e.data("cpu",function(t){e.cpu(t)}),e},data:function(e,t){var n=this,r="/status/"+e,i=n.cache[r];i?t(i):$.getJSON(r,function(e){e.uptime=parseInt(e.uptime/60,10),e.freemem>>>=20,e.totalmem>>>=20,t(e),n.cache[r]=e})},sys:function(e){this.$el.append(this.template(e))},cpu:function(e){var t=$('<div class="info-bar"/>');for(var n=0;n<e.length;++n)t.append("<div><p>"+e[n].model+"</p></div>"),t.append('<div class="progress"><div id="cpu-bar'+n+'" class="bar" style="width: 0%"></div></div>');t.css("display","none"),this.$el.append(t),t.slideDown("slow");for(n=0;n<e.length;++n)t.find("#cpu-bar"+n).animate({width:100-e[n].idle/e[n].total*100+"%"})}})}),define("view/login",["backbone"],function(){return Backbone.View.extend({tagName:"div",attributes:{id:"login","class":"row-fluid"},template:_.template($("#t-user-login").html()),initialize:function(){this.render()},render:function(){return this.$el.html(this.template()),this}})}),define("view/about",["backbone"],function(){return Backbone.View.extend({tagName:"div",attributes:{"class":"row-fluid"},template:_.template($("#t-about-view").html()),initialize:function(){this.render()},render:function(){return this.$el.html(this.template()),this}})}),define("view/status/databaseitem",["underscore","jquery","backbone"],function(e,t,n){return n.View.extend({tagName:"li",template:e.template(t("#t-database-item").html()),initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.model.bind("remove",this.remove,this),this}})}),define("view/status/databaselist",["underscore","jquery","backbone","view/status/databaseitem"],function(e,t,n,r){return n.View.extend({tagName:"ul",attributes:{"class":"nav nav-list"},initialize:function(){this.render()},render:function(){return this.$el.html('<li class="nav-header">MongoDB</li>'),this.collection.on("add",this.addItem,this),this},addItem:function(e){var t,n;n=e.get("sizeOnDisk"),e.set({sizeOnDisk:n>>20}),t=new r({model:e}),this.$el.append(t.$el)}})}),define("view/status/collection",["underscore","jquery","backbone"],function(e,t,n){return n.View.extend({template:e.template(t("#t-collection-view").html()),initialize:function(){this.render()},render:function(){return this.setElement(this.template(this.model.toJSON())),this.model.bind("remove",this.remove,this),this}})}),define("view/status/database",["underscore","jquery","backbone","view/status/collection"],function(e,t,n,r){return n.View.extend({tagName:"table",attributes:{cellspacing:"0"},initialize:function(){this.collection.on("add",this.addItem,this),this.collection.on("sync",function(e,n,r){this.$("tr td[rowspan]").filter(":even").each(function(){t(this).parent().css("background-color","#f8f8f8").nextAll().slice(0,this.rowSpan-1).css("background-color","#f8f8f8")})},this),this.render()},render:function(){return this.$el.html(t("#t-collection-header").html()),this},addItem:function(e){var t=new r({model:e});this.$el.append(t.$el)}})}),define("view/status/status",["underscore","jquery","backbone","view/status/databaselist","view/status/database"],function(e,t,n,r,i){return n.View.extend({tagName:"div",attributes:{"class":"row-fluid"},events:{"click .nav-list a":"stats"},initialize:function(){this.list=new n.Collection(null,{url:"/status/database"}),this.listView=new r({collection:this.list}),this.database=new n.Collection,this.databaseView=new i({collection:this.database}),this.render()},render:function(){var e=t('<div class="span3 well sidebar-nav"/><div class="span9"/>');return this.$el.html(e),e.eq(0).append(this.listView.$el),e.eq(1).append(this.databaseView.$el),this.list.fetch(),this},stats:function(e){var n=t(e.currentTarget).data("type"),r=t(e.currentTarget).data("name"),i="/status/"+n+"/"+r;this.database.fetch({url:i})}})}),define("view/search",["backbone"],function(){return Backbone.View.extend({tagName:"div",attributes:{"class":"search-box"},template:_.template($("#t-search-box").html()),events:{"submit form":"submit","click button.clear":"clear","input input":"input"},initialize:function(){this.model.bind("change:query",this.change,this),this.render()},render:function(){return this.$el.html(this.template()),this.$("button.clear").hide(),this},submit:function(e){var t=this.$("input"),n=t.val();return n.length>0&&(this.model.set({query:n,index:0}),t.blur()),!1},clear:function(e){this.$("input").val(""),this.$("button.clear").hide(),this.model.get("query")&&this.model.set("query","")},input:function(e){var t=this.$("input").val().length>0,n=this.$("button.clear");return t?n.show():n.hide()},change:function(e,t,n){this.$("input").val(t)}})}),define("view/paging",["backbone"],function(){return Backbone.View.extend({tagName:"div",events:{"click a":"jump"},attributes:{"class":"pagination"},template:_.template($("#t-paging-view").html()),initialize:function(){this.model.on("change:index",this.change,this),this.model.on("change:total",this.change,this),this.render()},render:function(){return this.$el.html(this.template()),this.change(),this},change:function(e,t,n,r){var i=this.$("ul li"),s=this.model.get("index"),o=this.model.get("total");i.eq(0).toggleClass("disabled",s===1),i.eq(1).children("form").hide(),i.eq(1).children("a").text(s+"/"+o).show(),i.eq(2).toggleClass("disabled",s===o)},jump:function(e){var t=this.model.get("index"),n=this.model.get("total"),r=$(e.currentTarget).data("action");if(r==="-"&&t>1)t-=1,this.model.set("index",t);else if(r==="+"&&t<n)t+=1,this.model.set("index",t);else if(r==="="){var i=this,s,o=this.$("li.active"),u=o.find("a").hide(),a=o.find("form").show().submit(function(e){var r=parseInt(s.val(),10);return!isNaN(r)&&r<=n&&r>0&&r!==t&&i.model.set("index",r),s.blur(),!1});s=a.find("input").val(t).focus().blur(function(e){a.hide(),u.show()})}}})}),define("view/paginator",["backbone"],function(){return Backbone.Collection.extend({cache:{},page:new Backbone.Model,sync:function(e,t,n){var r=this,i,s=n.success,o=n.error,u=this.query?_.clone(this.query):{};_.each(u,function(e,t){_.isFunction(e)&&(u[t]=e.call(this))},this),u=_.defaults(u,{type:"GET",dataType:"json",processData:!1,url:_.result(this,"url")}),u.success=function(e,n,i){s&&s(e,n,i),t.trigger("sync",t,e,u),r.cache[u.url]=e},u.error=function(e){o&&o(t,e,u),t.trigger("error",t,e,u)};if(!r.cache[u.url])return i=u.xhr=Backbone.ajax(u),t.trigger("request",t,i,u),i;u.success(r.cache[u.url])}})}),define("view/user/userpaginator",["underscore","jquery","backbone","view/paginator"],function(e,t,n,r){return r.extend({page:new n.Model({query:"",index:0,total:0}),url:function(){var e=this.page.get("query"),t=this.page.get("index"),n="/data/user/";return t>0&&(t-=1),n+=e?e+"/"+t:t,n},parse:function(e){var t=Math.ceil(e.total/e.limit);return e.total>0&&(e.index+=1),this.page.set({index:e.index,total:t}),e.users}})}),define("view/user/useritem",["underscore","jquery","backbone"],function(e,t,n){return n.View.extend({initialize:function(){this.render()},template:e.template(t("#t-user-item").html()),render:function(){return this.setElement(this.template(this.model.toJSON())),this.model.bind("remove",this.remove,this),this}})}),define("view/user/userlist",["underscore","jquery","backbone","view/user/useritem"],function(e,t,n,r){return n.View.extend({tagName:"div",attributes:{"class":"user-list"},initialize:function(){this.render()},render:function(){return this.collection.on("add",this.addItem,this),this},addItem:function(e){var t;t=new r({model:e}),this.$el.append(t.$el)}})}),define("view/user/calendar",["underscore","jquery","backbone","d3"],function(e,t,n,r){return n.View.extend({cx:0,cy:0,tagName:"div",attributes:{"class":"contrib-calendar"},initialize:function(){this.$el.css({position:"relative"}),this.show()},show:function(e){return this.$el.children().detach(),this.calendar(e)},move:function(e){if(this.cx<20||e<0)this.cx+=e,r.select("svg#calendar-graph g").transition().duration(1e3).ease("quad-in-out").attr("transform","translate("+this.cx+", "+this.cy+")")},calendar:function(e){var t,n,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b=0,w=0,E=0,S=0,x,T,N=[],C=3.77972616981,k=864e5,L=["#d6e685","#8cc665","#44a340","#1e6823"];e||(e=[]),g=t=e.length;if(t>0){h=p=c=v=m=e[t-1][0]=new Date(e[t-1][0]),b=w=S=E=e[t-1][1],d=y=0,N.push(E);while(--t>0){h=i=e[t][0],o=e[t][1],S+=o,N.push(o),s=e[t-1][0],s=e[t-1][0]=new Date(s),n=(i.getTime()-s.getTime())/k,n=parseInt(n,10);if(n<2)d+=1,b+=o;else{if(d>y||d===y&&w<b)w=b,y=d,v=h,m=p;d=1,p=i,b=o}while(--n>0)e.push([new Date(s.getTime()+n*k),0]);o>E&&(c=i,E=o)}t=e.length,S/=t,l=0,a=e[0][0].getDay(),e.sort(function(e,t){return r.ascending(e[0],t[0])});while(a>0)a-=1,e.unshift([new Date(e[0][0].getTime()-k),0]);while(--t>=0)i=e[t][0],s=e[t][1],x=s-S,l+=x*x;n=Math.sqrt(l/(e.length-1)),t=0,f=E-S<6||E<15?1:3;while(t<f)u=N.filter(function(e){var t;return t=Math.abs((S-e)/n),t>C}),u.length>0?(u=u[0],N=N.filter(function(e){return e!==u}),t===0):u=null,t+=1}return T=r.scale.quantile().domain([0,r.max(N)]).range(L),this.draw(e,T),{max:{value:E,date:c},act:{value:y,begin:v,end:m,total:g},mean:{value:S}}},draw:function(e,n){var i,s,o,u,a,f,l,c,h=this,p={},d={},v=12,m=2,g=20,y=20;this.cx=g,this.cy=y,u=t('<div class="svg-tip" />').hide(),this.$el.append(u),i=r.select(this.el).append("svg").attr("id","calendar-graph").append("g").attr("transform","translate("+g+", "+y+")"),a=r.time.format("%Y%U"),e.forEach(function(e){var t;return t=a(e[0]),p[t]||(p[t]=[]),p[t].push(e)}),p=r.entries(p),c=e.length>0?e[0][0].getFullYear():0,s=i.selectAll("g.week").data(p).enter().append("g").attr("transform",function(e,t){var n=e.value[0][0];return n=c-n.getFullYear(),"translate("+(t+n)*v+", 0)"}),a=r.time.format("%w"),o=s.selectAll("rect.day").data(function(e){return e.value}).enter().append("rect").attr("class","day").attr("width",v-m).attr("height",v-m).attr("y",function(e){return a(e[0])*v}).style("fill",function(e){return e[1]===0?"#eee":n(e[1])}).on("click",function(e){console.log("contributions:range:click: ",e)}).on("mouseover",function(e,t,n){var i,s,o,a=r.time.format("%Y-%m-%d")(e[0]),f=e[1]===0?"No Status":e[1]+(e[1]>1?" Statuses":"Status");u.html("<strong>"+f+"</strong> on "+a),i=u.outerWidth(),s=u.outerHeight(),t+=1,n+=2-(e[0].getFullYear()-c),o={top:t*v-s-4+"px",left:n*v-i/2+1+h.cx-g+"px"},u.css(o).show()}).on("mouseout",function(){u.hide()}),o.append("title").text(function(e){var t=r.time.format("%Y-%m-%d"),t=t(e[0]),n=e[1],n=n===0?"No Status":n+(n>1?" Statuses":"Status");return n+" on "+t}),f=0,a=r.time.format("%m-%y"),p.forEach(function(e){var t;return t=a(e.value[0][0]),d[t]||(d[t]=[e.value[0][0],0]),d[t][1]+=1}),d=r.entries(d).sort(function(e,t){return r.ascending(e.value[0],t.value[0])}),a=r.time.format("%b"),i.selectAll("text.month").data(d).enter().append("text").attr("x",function(e){var t;return t=v*f,f+=e.value[1],t}).attr("y",-5).attr("class","month").style("display",function(e){if(e.value[1]<=2)return"none"}).text(function(e){return a(e.value[0])}),i.selectAll("text.day").data(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]).enter().append("text").style("display",function(e,t){if(t%2===0)return"none"}).attr("text-anchor","middle").attr("class","wday").attr("dx",-10).attr("dy",function(e,t){return g+((t-1)*v+m)}).text(function(e){return e[0]})}})}),define("view/user/calendargrid",["underscore","jquery","backbone"],function(e,t,n){return n.View.extend({tagName:"div",attributes:{"class":"contrib-details grid"},template:e.template(t("#t-calender-grid").html()),initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.model.on("change",this.render,this),this}})}),define("view/user/userstate",["underscore","jquery","backbone","d3","view/user/calendar","view/user/calendargrid"],function(e,t,n,r,i,s){return n.View.extend({tagName:"div",attributes:{"class":"capped-box"},events:{"click #calendar-ctrl a":"scroll"},template:e.template(t("#t-user-state").html()),initialize:function(){this.gridModel=new n.Model({max:0,max_text:"",act:0,act_text:"",mean:0,mean_text:""}),this.calendarView=new i,this.calenderGridView=new s({model:this.gridModel}),this.render()},render:function(){this.$el.html(this.template()),this.$("div.contrib-header").after(this.calendarView.$el),this.$el.append(this.calenderGridView.$el)},show:function(e){var t=r.time.format("%Y-%m-%d"),n=this.calendarView.show(e);this.gridModel.set({max:n.max.value,max_text:"Date: "+t(n.max.date),act:n.act.value,act_text:t(n.act.begin)+" To "+t(n.act.end),mean:n.mean.value.toFixed(2),mean_text:"Actived "+n.act.total+(n.act.total>1?" days":" day")})},scroll:function(e){var n=this,r=t(e.currentTarget).data("ctrl");r==="-"?n.calendarView.move(320):r==="+"&&n.calendarView.move(-320)}})}),define("view/user/user",["underscore","jquery","backbone","view/search","view/paging","view/user/userpaginator","view/user/userlist","view/user/userstate"],function(e,t,n,r,i,s,o,u){return n.View.extend({cache:{},tagName:"div",attributes:{"class":"row-fluid"},events:{"click .user-item":"select"},initialize:function(){this.paginator=new s,this.searchView=new r({model:this.paginator.page}),this.pagingView=new i({model:this.paginator.page}),this.userListView=new o({collection:this.paginator}),this.userStateView=new u,this.render();var e=this;e.paginator.fetch({success:function(t,n,r){e.paginator.page.bind("change",function(){e.paginator.fetch()})}})},render:function(){var e=t('<div class="span3 well sidebar-nav"/><div class="span9"/>');return this.$el.html(e),e.eq(0).append(this.searchView.$el).append(this.userListView.$el).append(this.pagingView.$el),e.eq(1).append(this.userStateView.$el),this},select:function(e){var n=this,r=t(e.currentTarget).data("user"),i="/data/state/"+r,s=n.cache[i];location.hash="#user/state/"+r,s?n.userStateView.show(s):t.getJSON(i,function(e){n.userStateView.show(e),n.cache[i]=e})}})}),define("view/cluster/datepick",["backbone","datepicker","pnotify"],function(){return Backbone.View.extend({tagName:"div",attributes:{"class":"date-pick"},events:{"click button":"submit"},template:_.template($("#t-datepick-view").html()),initialize:function(){this.render()},render:function(){var e,t;return this.$el.html(this.template()),e=this.$("#datepick-start input"),t=this.$("#datepick-end input"),e=e.datepicker({format:"yyyy-mm-dd"}).on("changeDate",function(t){e.hide()}).data("datepicker"),t=t.datepicker({format:"yyyy-mm-dd"}).on("changeDate",function(e){t.hide()}).data("datepicker"),this},submit:function(e){var t=this,n=this.$("#datepick-start input").val(),r=this.$("#datepick-end input").val();!n||!r||n===r?$.pnotify({title:"注意",text:"请输入一个时间段，系统才能分析这个时间段内的微博数据！",type:"notice",delay:4e3}):($.pnotify({title:"注意",text:"正在向系统提交微博分析请求……",type:"notice",delay:4e3}),$.getJSON("/analyze/cluster/"+n+"/"+r,function(e){$.pnotify({title:"注意",text:"分析请求已经提交给系统处理，请稍后刷新页面查看结果！",type:"success",delay:4e3})}))}})}),define("view/cluster/recorditem",["underscore","jquery","backbone","d3"],function(e,t,n,r){return n.View.extend({tagName:"li",template:e.template(t("#t-record-item").html()),initialize:function(){this.render()},render:function(){var e,t=r.time.format("%Y-%m-%d"),n=this.model.get("id"),i=this.model.get("date_start"),s=this.model.get("date_end");return i=new Date(i),s=new Date(s),e=t(i)+" 到 "+t(s),this.$el.html(this.template({id:n,record:e})),this.model.bind("remove",this.remove,this),this}})}),define("view/cluster/recordlist",["underscore","jquery","backbone","view/cluster/recorditem"],function(e,t,n,r){return n.View.extend({tagName:"ul",attributes:{"class":"nav nav-list"},initialize:function(){this.render()},render:function(){return this.$el.html('<li class="nav-header">已分析的时间段</li>'),this.collection.on("add",this.addItem,this),this},addItem:function(e){var t;t=new r({model:e}),this.$el.append(t.$el)}})}),define("view/cluster/recordpaginator",["underscore","jquery","backbone","view/paginator"],function(e,t,n,r){return r.extend({page:new n.Model({query:"",index:0,total:0}),url:function(){var e=this.page.get("query"),t=this.page.get("index"),n="/data/record/";return t>0&&(t-=1),n+=e?e+"/"+t:t,n},parse:function(e){var t=Math.ceil(e.total/e.limit);return this.page.set({index:e.index+1,total:t}),e.records}})}),define("view/cluster/statusitem",["underscore","jquery","backbone"],function(e,t,n){return n.View.extend({tagName:"div",attributes:{"class":"row-fluid"},template:e.template(t("#t-media-item").html()),initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.model.bind("remove",this.remove,this),this}})}),define("view/cluster/statuslist",["underscore","jquery","backbone","d3","view/cluster/statusitem"],function(e,t,n,r,i){return n.View.extend({tagName:"div",attributes:{"class":"row-fluid"},initialize:function(){this.collection.on("add",this.addItem,this),this.render()},render:function(){return this},addItem:function(e){var t,n=r.time.format("%Y-%m-%d"),s=e.get("user"),o=e.get("created_at");s||e.set({user:{id:0,screen_name:"",friends_count:"N",followers_count:"N",statuses_count:"N"}}),o=new Date(o),e.set({created_at:n(o)}),t=new i({model:e}),this.$el.append(t.$el)}})}),define("view/cluster/clusterpaginator",["underscore","jquery","backbone","view/paginator"],function(e,t,n,r){return r.extend({page:new n.Model({id:0,index:0,total:0,k:0,count:0}),url:function(){var e=this.page.get("id"),t=this.page.get("index"),n=this.page.get("k"),r="data/cluster/"+e+"/";return t>0&&(t-=1),r+=n+"/"+t,r},parse:function(e){var t=Math.ceil(e.total/e.limit);return e.total>0&&(e.index+=1),e.count>0&&(e.count-=1),this.page.set({k:e.k,count:e.count,index:e.index,total:t}),e.clusters}})}),define("view/cluster/clusterPaging",["underscore","jquery","backbone"],function(e,t,n){return n.View.extend({tagName:"div",events:{"click a":"jump"},attributes:{"class":"navbar"},template:e.template(t("#t-analyze-paging").html()),initialize:function(){this.model.on("change",this.render,this),this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$("form").hide(),this},jump:function(e){var n,r,i,s,o,u=t(e.currentTarget).data("action"),a=u.charAt(0),f=u.charAt(1);a==="p"?(i="index",s="total",o=this.$("ul li").eq(6)):a==="c"&&(i="k",s="count",o=this.$("ul li").eq(2)),n=this.model.get(i),r=this.model.get(s);if(f==="-"&&n>1)n-=1,this.model.set(i,n);else if(f==="+"&&n<r)n+=1,this.model.set(i,n);else if(f==="="){var l=this,c,h=o.find("a").hide(),p=o.find("form").show().submit(function(e){var t=parseInt(c.val(),10);return!isNaN(t)&&t<=r&&t>0&&t!==n&&l.model.set(i,t),c.blur(),!1});c=p.find("input").val(n).focus().blur(function(e){p.hide(),h.show()})}}})}),define("view/cluster/cluster",["underscore","jquery","backbone","view/paging","view/cluster/datepick","view/cluster/recordlist","view/cluster/recordpaginator","view/cluster/statuslist","view/cluster/clusterpaginator","view/cluster/clusterPaging"],function(e,t,n,r,i,s,o,u,a,f){return n.View.extend({tagName:"div",attributes:{"class":"row-fluid"},events:{"click ul.nav-list a":"select"},initialize:function(){this.recordPaginator=new o,this.clusterPaginator=new a,this.datePickView=new i,this.recordPagingView=new r({model:this.recordPaginator.page}),this.recordListView=new s({collection:this.recordPaginator}),this.clusterPagingView=new f({model:this.clusterPaginator.page}),this.statusListView=new u({collection:this.clusterPaginator}),this.render();var e=this;e.clusterPaginator.page.on("change",function(){e.clusterPaginator.fetch()}),e.recordPaginator.fetch({success:function(t,n,r){e.recordPaginator.page.bind("change",function(){e.recordPaginator.fetch()})}})},render:function(){var e=t('<div class="span3 well sidebar-nav"/><div class="span9"/>');this.$el.html(e),e.eq(0).append(this.datePickView.$el).append(this.recordListView.$el).append(this.recordPagingView.$el),e.eq(1).append(this.clusterPagingView.$el).append(this.statusListView.$el)},select:function(e){var n=t(e.currentTarget).data("name");n&&(n=parseInt(n,10),this.clusterPaginator.page.set({id:n,k:1}))}})}),define("app",["view/subhead","view/footer","view/system","view/login","view/about","view/status/status","view/user/user","view/cluster/cluster","backbone"],function(e,t,n,r,i,s,o,u){return Backbone.Router.extend({subhead:$("#subhead"),content:$("#content"),routes:{"":"home",home:"home",status:"status",login:"login",about:"about",user:"user",analyze:"analyze","user/:act/:id":"user"},initialize:function(){this.footerView=new t},home:function(){this.subheadView||(this.subheadView=new e,this.subhead.append(this.subheadView.$el)),this.systemView||(this.systemView=new n),this.subhead.show(),this.content.children().detach(),this.content.append(this.systemView.$el).append(this.footerView.$el)},status:function(){this.statusView||(this.statusView=new s),this.subhead.hide(),this.content.children().detach(),this.content.append(this.statusView.$el).append(this.footerView.$el)},login:function(){this.loginView||(this.loginView=new r),this.subhead.hide(),this.content.children().detach(),this.content.append(this.loginView.$el).append(this.footerView.$el)},user:function(e,t){this.userView||(this.userView=new o),this.subhead.hide(),this.content.children().detach(),this.content.append(this.userView.$el).append(this.footerView.$el)},analyze:function(e,t,n){this.clusterView||(this.clusterView=new u),this.subhead.hide(),this.content.children().detach(),this.content.append(this.clusterView.$el).append(this.footerView.$el)},about:function(){this.aboutView||(this.aboutView=new i),this.subhead.hide(),this.content.children().detach(),this.content.append(this.aboutView.$el).append(this.footerView.$el)}})}),require.config({baseUrl:"js",paths:{jquery:"http://127.0.0.1:3000/js/lib/jquery.min",underscore:"http://127.0.0.1:3000/js/lib/underscore.min",backbone:"http://127.0.0.1:3000/js/lib/backbone.min",d3:"http://127.0.0.1:3000/js/lib/d3.min",bootstrap:"http://127.0.0.1:3000/js/lib/bootstrap.min",datepicker:"lib/datepicker.min",pnotify:"lib/jquery.pnotify.min"},shim:{jquery:{exports:["jQuery","$"]},bootstrap:["jquery"],datepicker:["bootstrap"],pnotify:["jquery"],underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"},d3:{exports:"d3"}}}),require(["app","backbone","d3","bootstrap"],function(e){var t=new e;Backbone.history.start(),$.pnotify.defaults.history=!1}),define("main",function(){});